const {Telegraf, Scenes, session} = require('telegraf');
require('dotenv').config();
const sequelize = require('./DataBase/Database');
const {MainBoard} = require('./Keyboards/UserKeyboards');
const {MainAdmin} = require('./Keyboards/AdminKeyboard');
const StartSceneGenerator = require("./scenes/StartScene");
const AdminSceneGenerator = require("./scenes/AdminScene");



// Commands
const {FindOrCreate, FindAllUsers,FindAllUnactiveUsers} = require("./commands/Subscriber/FindOrCreateUser");
const {FindReferal,FindAllReferals} = require("./commands/Subscriber/FindReferal");
const AddReferalCount = require("./commands/Subscriber/AddReferalCount");
const {FindAllTickets, FindUserTicket} = require("./commands/Ticket/FindTickets");



// Scenes
const startScene = new StartSceneGenerator();
const greatingScene = startScene.GetCreetingScene();
const sponsorsScene = startScene.GetSponsorScene();
const capchaScene = startScene.GetCapchaScene();
const passScene = startScene.GetPassScene();

// TODO: admin enter
const adminScene = new AdminSceneGenerator();
const anminGreating = adminScene.GetAdminScene();





// VARIABLES AND CONSTANT
const startDate = new Date(2022, 7, 28);
const bot = new Telegraf(process.env.TOKEN, {polling : false});




// db coonection
const conn = async() =>
{
    try
    {
        await sequelize.authenticate();
        await sequelize.sync();
    }
    catch (e)
    {
        console.log("ne podkluchilos", e);
    }
}
conn();

const stage = new Scenes.Stage([greatingScene,sponsorsScene,capchaScene, passScene]);
bot.use(session());
bot.use(stage.middleware());







bot.start(async (ctx)=>
{
    let _chatId = ctx.update.message.from.id;
    let _referalChatID;
    try
    {
        _referalChatID = ctx.update.message.text.split(' ')[1];
    }
    catch(e)
    {
        console.log(e);
        _referalChatID = 0;
    }
    const Referal = await FindReferal(_referalChatID);
    const CreatedUser = await FindOrCreate(_chatId, Referal.referalChatID);
    if (!CreatedUser.user.passed)
    {
        if (Referal.referalChatID !==0)
        {
           await AddReferalCount(Referal.referer);
        }
        ctx.scene.enter("greating");
    }
    else
    {
        await ctx.reply("üó£ –ü–æ—Å–ø–µ—à–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π, —Ç–µ–º —Å–∞–º—ã–º —É–≤–µ–ª–∏—á–∏–≤–∞—è —Å–≤–æ–π —à–∞–Ω—Å –Ω–∞ –ø–æ–±–µ–¥—É.\n\n" +
            "‚ÑπÔ∏è–ë—é–¥–∂–µ—Ç —Ä–æ–∑—ã–≥—Ä—ã—à–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 15.000$"
            , MainBoard);   
    }
});

bot.use(async (ctx, next)=>
{
    try
    {
        const _chatId = ctx.message.chat.id;
        const CreatedUser = await FindOrCreate(_chatId, 0);

        if (CreatedUser.user.passed == false)
        {
            ctx.scene.enter("greating");
        }
        else
        {
            next(ctx);
        }
    }
    catch(err)
    {
        CreateLog(ctx.chat.id,JSON.stringify(ctx),JSON.stringify(err), "use findUser");
        try
        {
            let messageId = ctx.update.callback_query.message.message_id;
            await ctx.deleteMessage(messageId);
        }     
        catch(error)
        {
            CreateLog(ctx.chat.id,JSON.stringify(ctx),JSON.stringify(error), "use findUser deleteMessage");
        }
        try
        {
            await ctx.reply("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞");
        }
        catch(er)
        {
            CreateLog(ctx.chat.id,JSON.stringify(ctx),JSON.stringify(er), "use findUser unnownCommand");
        }
    }
})




// –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
bot.hears(MainBoard.reply_markup.keyboard[0][1], async ctx =>
    {
        let _chatId = ctx.message.chat.id;
        try
        {
            let _ticketsCount;
            let _currentUser = await FindOrCreate(_chatId, 0);
            const _tickets = await FindUserTicket(_chatId);
            const _userReferals = await FindAllReferals(_chatId);
            if (_tickets === null)
            {
                _ticketsCount = 0;
            }
            else 
            {
                _ticketsCount = _tickets.length;
            }
            await ctx.replyWithPhoto({source : "./img/4.jpg"});
            await ctx.reply
            (
                "‚ÑπÔ∏è–ü–æ–ª—É—á–∞–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–ª–µ—Ç—ã –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥—Ä—É–∑–µ–π.\n\n"+
                `–ú–æ–∏ –±–∏–ª–µ—Ç—ã - ${_ticketsCount}\n\n`+
                "üìå–î–µ–ª–∏—Å—å —Å–≤–æ–µ–π –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏ –∏ –ø–æ–ª—É—á–∞–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∏–ª–µ—Ç –∑–∞ –∫–∞–∂–¥–æ–≥–æ, –∫—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ.\n\n"+
                `–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:\n\n ${process.env.LINK}?start=${_currentUser.chatId} \n\n` +
                `–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—Ä—É–∑–µ–π - ${_userReferals.length}`
            ,MainBoard);
        }
        catch(er)
        {
            console.log(er);
            CreateLog(ctx.chat.id,JSON.stringify(ctx),JSON.stringify(er), "Referal Program");
        }
    });

/// –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
bot.hears(MainBoard.reply_markup.keyboard[3][0], async ctx =>
    {
        await ctx.replyWithPhoto({source : "./img/2.jpg"});
        await ctx.reply("üì≤–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞\n\n\n"+

        "–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å: @AKR404",MainBoard);
    });

/// –ü—Ä–∞–≤–∏–ª–∞
bot.hears(MainBoard.reply_markup.keyboard[0][0], async ctx =>
    {
        await ctx.replyWithPhoto({source : "./img/1.jpg"});
        await ctx.reply(
            "1 . –ó–∞–ø—Ä–µ—â–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ  –º–µ—Ç–æ–¥—ã –Ω–∞–∫—Ä—É—Ç–æ–∫, –∞ —Ç–∞–∫ –∂–µ: –±–∏—Ä–∂–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ—ç–π–∫–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤, —Å–µ—Ä–≤–∏—Å—ã, –±–æ—Ç—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.\n\n"+
            "2 . –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö, —Ç–µ–ª–µ–≥—Ä–∞–º–º –∫–∞–Ω–∞–ª–∞—Ö –∏ –¥—Ä—É–≥–∏—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–∫—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –ø–æ –∑–∞–ø—Ä–æ—Å—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.\n\n"+
            "3 . –û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫, –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞, –≤ —Å–ª—É—á–∞–µ –æ–±–º–∞–Ω–∞, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏ –Ω–µ –≤—ã–¥–∞–≤–∞—Ç—å –µ–º—É –ø—Ä–∏–∑.\n\n"+
            "4 . –ó–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç 1 –Ω–æ–º–µ—Ä–Ω–æ–π –±–∏–ª–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—ë—Ç –µ–º—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–π–≥—Ä–∞—Ç—å –¥–µ–Ω–µ–∂–Ω—ã–π –ø—Ä–∏–∑ –æ—Ç 1 –¥–æ 15000$.\n\n"+
            "5 . –ó–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π, —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç 1 –Ω–æ–º–µ—Ä–Ω–æ–π –±–∏–ª–µ—Ç, –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞ –ø–æ —Å–≤–æ–µ–π —Å—Å—ã–ª–∫–µ, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –≤–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤, —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –±–æ–ª—å—à–µ –ø—Ä–∏–∑–æ–≤"
            ,MainBoard);
    });
    /// 500$
bot.hears(MainBoard.reply_markup.keyboard[1][1], async ctx =>
        {
            await ctx.replyWithPhoto({source: "./img/5.jpg"});
            await ctx.reply("–•–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ 500$?\n\n"+ 
                "–ü—Ä–æ—Å—Ç–æ –ø—Ä–æ—è–≤–ª—è–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –∫–∞–Ω–∞–ª–∞—Ö –Ω–∞—à–∏—Ö —Å–ø–æ–Ω—Å–æ—Ä–æ–≤, –ø–∏—à–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–¥ –ø–æ—Å—Ç–∞–º–∏, —Å—Ç–∞–≤—å —Ä–µ–∞–∫—Ü–∏–∏, –æ–±—â–∞–π—Å—è –≤ —á–∞—Ç–∞—Ö, –∫–æ—Ä–æ—á–µ –±—É–¥—å –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–ºüòâ\n\n"+    
                "–í —Ç–µ—á–µ–Ω–∏–∏ –≤—Å–µ–≥–æ —Ä–æ–∑—ã–≥—Ä—ã—à–∞, —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –º—ã –±—É–¥–µ–º –≤—ã–±–∏—Ä–∞—Ç—å —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∏ –¥–∞—Ä–∏—Ç—å –∏–º  CRYPTOBOX —Å —Å—É–º–º–æ–π –¥–æ 500$üí•\n\n"+
                "‚ö°Ô∏è–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:\n"+
                "‚Äì –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –ø–æ —Ç–µ–º–µ –ø–æ—Å—Ç–æ–≤.\n"+
                "‚Äì–û–±—â–∞—Ç—å—Å—è –≤ —á–∞—Ç–∞—Ö –±–µ–∑ –Ω–µ–≥–∞—Ç–∏–≤–∞ –∏ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π.\n"+
                "‚Äì–ü—Ä–æ—è–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É –≤—Å–µ—Ö —Å–ø–æ–Ω—Å–æ—Ä–æ–≤.\n"+
                "‚Äì–ù–µ –≤—ã–∫–ª—é—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.\n\n"+
                "üí∞–û—Ç —á–µ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –±–æ–Ω—É—Å:\n"+
                "‚Äì –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å\n"+
                "‚Äì –ü–æ–∑–∏—Ç–∏–≤\n"+
                "‚Äì –í–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å –Ω–∞ –∫–∞–Ω–∞–ª–∞—Ö",MainBoard);
        });
/// –°—Ç–∞—Ç–∏c—Ç–∏–∫–∞
bot.hears(MainBoard.reply_markup.keyboard[1][0], async ctx =>
    {
        let userCount = await FindAllUsers();
        let ticketCount = await FindAllTickets();
        let activeUsers = await FindAllUnactiveUsers();
        let date = new Date();
        var timeDiff = Math.abs(date.getTime() - startDate.getTime());
        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24)); 
        await ctx.replyWithPhoto({source : "./img/3.jpg"});
        await ctx.reply(
            "üìä–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã\n\n" +
            `üë•–û–±—â–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: ${userCount.length} \n\n`+
            `üë§–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: ${activeUsers.length}\n\n` +
            `üéü–í—ã–¥–∞–Ω–æ –±–∏–ª–µ—Ç–æ–≤:  ${ticketCount.length}\n\n ` +
            `üóì–î–Ω–µ–π –ø—Ä–æ–µ–∫—Ç—É: ${diffDays}`,MainBoard
            );
    });

/// FAQ
bot.hears(MainBoard.reply_markup.keyboard[2][0], async ctx =>
        {
            await ctx.replyWithPhoto({source : "./img/6.jpg"});
            await ctx.reply("–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.\n\n"+
            "1 . –ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è –ª–æ—Ç–µ—Ä–µ—è ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–ö–∞–∫ —Ç–æ–ª—å–∫–æ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è —Ä–∞–∑–¥–∞—á–∞ –ª–æ—Ç–µ—Ä–µ–π–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤, –≤—Å–µ–º –ø—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ª–æ—Ç–µ—Ä–µ–∏\n\n"+
            "2 . –ö–∞–∫ —è —É–∑–Ω–∞—é, –æ —Ç–æ–º —á—Ç–æ –º–æ–π –±–∏–ª–µ—Ç –±—ã–ª –≤—ã–∏–≥—Ä—ã—à–Ω—ã–º ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–í–∞–º –ø—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–∏–≥—Ä—ã—à–µ, –µ—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤, –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–¥—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.\n\n"+      
            "3 . –°–∫–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º—É–º –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ. –ì–ª–∞–≤–Ω–æ–µ, –≤—Å–µ –±–∏–ª–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Å—Ç–Ω—ã–º –ø—É—Ç—ë–º. (–ß–∏—Ç–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞)\n\n"+
            "4 . –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞–∫—Ä—É—Ç–∏—Ç —Å–µ–±–µ –±–∏–ª–µ—Ç–æ–≤, —á—Ç–æ —Ç–æ–≥–¥–∞ ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥–∏—Ç –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –µ—Å–ª–∏ –æ–Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è, —É—á–∞—Å—Ç–Ω–∏–∫ –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –∞ –±–∏–ª–µ—Ç—ã –µ–≥–æ –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω—ã.\n\n"+
            "5 . –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –º–Ω–æ–≥–æ –±–∏–ª–µ—Ç–æ–≤ ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–ó–∞–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª ¬´–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞¬ª, –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –ø–æ —Å–≤–æ–µ–π —Å—Å—ã–ª–∫–µ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∏–ª–µ—Ç.\n\n"+
            "6 . –ï—Å–ª–∏ –º–µ–Ω—è –∑–∞–±–ª–æ–∫–∏—Ä—É—é—Ç –Ω–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ, —á—Ç–æ –¥–µ–ª–∞—Ç—å ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–ü–æ–¥–¥–µ—Ä–∂–∫–∞¬ª —Å–æ–æ–±—â–∏—Ç–µ –æ —Å–≤–æ–µ–π –ø—Ä–æ–±–ª–µ–º–µ, –≤–∞–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–≤–µ—Ç—è—Ç, –∏ –ø–æ–ø—Ä–æ—Å—è—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —Ç—Ä–∞—Ñ–∏–∫–∞.\n\n"+
            "7 . –ß—Ç–æ —Ç–∞–∫–æ–µ CRYPTOBOX –∏ –∫–∞–∫ –µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å ?\n\n"+
            "–û—Ç–≤–µ—Ç:\n"+ 
            "–≠—Ç–æ –∫–æ—Ä–æ–±–∫–∞ —Å –¥–µ–Ω–µ–∂–Ω—ã–º —Å—é—Ä–ø—Ä–∏–∑–æ–º –Ω–∞ –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–µ Binance. –ü–æ–ª—É—á–∏—Ç—å –µ–µ –ª–µ–≥–∫–æ, –≤ —Å–ª—É—á–∞–µ –≤—ã–∏–≥—Ä—ã—à–∞, –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º –≤—Å—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ –ø–æ–º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ –∫–∞—Ä—Ç—É, –¥–ª—è –∫–æ–≥–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–æ.",MainBoard );
        });







// ADMIN  
/// TODO: Enter Admin
bot.hears(process.env.PASS, async (ctx)=>
{
    await ctx.reply("Hello, admin", await MainAdmin);
});











bot.launch();
process.once("SIGINT", ()=> bot.stop("SIGINT"));
process.once("SIGTERM", ()=> bot.stop("SIGTERM"));


